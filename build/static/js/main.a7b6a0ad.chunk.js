(this.webpackJsonpbuzzer=this.webpackJsonpbuzzer||[]).push([[0],{17:function(e,t,n){},36:function(e,t,n){e.exports=n(74)},41:function(e,t,n){},71:function(e,t){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(34),l=n.n(c),o=(n(41),n(1)),u=n.n(o),i=n(3),s=n(2),m=n(17),d=n.n(m);function b(e){return r.a.createElement("button",{className:d.a.genericButt,onClick:function(){e.handleClick()}},e.text)}function f(e){return r.a.createElement("div",null,r.a.createElement("input",{onChange:e.updateName}),r.a.createElement(b,{text:"Join",handleClick:e.joinWithName}))}var p=function(){var e=Object(i.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(u.a.mark((function e(t,n){var a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},e.next=4,fetch(t,a);case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}();function v(e){var t=function(t){var n=t.target.value;if(n&&e.enteredCode.length<6)e.setEnteredCode("".concat(e.enteredCode).concat(n));else if(n&&e.enteredCode>=6);else if("back"===t.target.name){var a=e.enteredCode.slice(0,-1);e.setEnteredCode(a)}else 6===e.enteredCode.length?e.join(e.enteredCode):alert("You must enter at least 6 numbers\u2763\ufe0f\u2728")};return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:1},"1")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:2},"2")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:3},"3"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:4},"4")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:5},"5")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:6},"6"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:7},"7")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:8},"8")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:9},"9"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{onClick:t,name:"back"},r.a.createElement("span",{role:"img","aria-label":"BACK"},"\u2b05"),"BACK")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:0},"0")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t},r.a.createElement("span",{role:"img","aria-label":"Go!"},"\ud83c\udd97")))))))}function g(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)(null),m=Object(s.a)(o,2),d=m[0],p=m[1],g=Object(a.useState)(!1),h=Object(s.a)(g,2),k=h[0],C=h[1],j=function(){var t=Object(i.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E("/join",{code:n});case 2:t.sent.ok?(e.setJoinedGame(c),C(!0)):alert("That game is not currently available \ud83d\ude2d");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(i.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E("/add-player",{player:d,code:c});case 2:n=t.sent,console.log(n),n.ok?(console.log("It worked!"),e.setPlayerName(d),e.setGameCode(c),e.joinRoom(c,d)):(n.msg="used")?alert("Sorry, that name is already used. Please choose a new one\u2763\ufe0f\u2728"):alert("Sorry, the game you are trying to play no longer seems to be available. Please try again.\u2728");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",null,c),r.a.createElement(b,{text:"\u23eaBack",handleClick:e.goBack}),!k&&r.a.createElement(v,{enteredCode:c,setEnteredCode:l,join:j}),k&&r.a.createElement(f,{updateName:function(e){p(e.target.value)},joinWithName:y}))}function h(e){var t=e.playersList.map((function(e){return r.a.createElement("li",{key:e},e)}));return r.a.createElement("div",null,r.a.createElement(b,{text:"\u23eaBack",handleClick:e.goBack}),r.a.createElement("div",null,e.gameCode),r.a.createElement("ul",null,t))}function k(e){return r.a.createElement("button",{onClick:e.handleClick},e.text)}function C(e){return r.a.createElement("div",null,r.a.createElement(k,{text:"Host game \u2728",handleClick:e.createGame}),r.a.createElement(k,{text:"Join game\u3000\ud83c\udfae",handleClick:e.join}))}var j=n(35),y=n.n(j)()("/games"),O=r.a.createContext();var w=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!0),o=Object(s.a)(l,2),m=o[0],d=o[1],b=Object(a.useState)(!1),f=Object(s.a)(b,2),v=f[0],k=f[1],j=Object(a.useState)(!1),w=Object(s.a)(j,2),x=w[0],S=w[1],B=Object(a.useState)(null),N=Object(s.a)(B,2),z=N[0],G=N[1],J=Object(a.useState)(null),P=Object(s.a)(J,2),W=P[0],A=P[1],I=Object(a.useState)([]),K=Object(s.a)(I,2),L=(K[0],K[1]),R=Object(a.useState)([]),T=Object(s.a)(R,2),H=T[0],M=T[1];Object(a.useEffect)((function(){y.on("newPlayer",(function(e){console.log(e);for(var t=[],n=0;n<e.players.length;n++)t.push(e.players[n].name);M(t),console.log(t),L(e.players)})),y.on("buzz",(function(e){console.log("buzz from ".concat(e))}))}),[]);var Y=function(e){y.emit("join","/".concat(e))},$=function(){d(!0),S(!1),k(!1),z&&(D(z),G(null)),n&&(D(n),c(null))},q=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/create");case 2:(t=e.sent)?(c(t.gameNumber),d(!1),k(!1),S(!0),console.log(t.gameNumber),Y(t.gameNumber)):console.log("error!");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("/create",{code:t});case 2:(n=e.sent)?console.log(n):console.log("error!");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("button",{onClick:function(){y.emit("buzz",W,n)}},"emit!"),r.a.createElement("button",{onClick:function(){D(n)}},"End game"),r.a.createElement(O.Provider,{value:{player:W,gameCode:n}},m&&r.a.createElement(C,{goBack:$,createGame:q,join:function(){k(!0),S(!1),d(!1)}}),x&&r.a.createElement(h,{goBack:$,gameCode:n,playersList:H}),v&&r.a.createElement(g,{goBack:$,setJoinedGame:G,setGameCode:c,setPlayerName:A,joinRoom:Y})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.a7b6a0ad.chunk.js.map