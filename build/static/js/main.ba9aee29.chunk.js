(this.webpackJsonpbuzzer=this.webpackJsonpbuzzer||[]).push([[0],{19:function(e,t,n){},39:function(e,t,n){e.exports=n(77)},44:function(e,t,n){},74:function(e,t){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(36),l=n.n(c),o=(n(44),n(2)),u=n.n(o),i=n(3),s=n(38),m=n(1);function d(e){Object(a.useEffect)((function(){console.log(e.buzzes)}));var t=e.buzzes.map((function(e){return r.a.createElement("li",{key:e},e)}));return r.a.createElement("div",null,r.a.createElement("ol",null,t),"YOYOYOYOYO",e.buzzes[0])}function b(e){return r.a.createElement("div",null,r.a.createElement("div",null,"bObObO"))}var E=n(19),f=n.n(E);function p(e){return r.a.createElement("button",{className:f.a.genericButt,onClick:function(){e.handleClick()}},e.text)}function v(e){return r.a.createElement("div",null,r.a.createElement("input",{onChange:e.updateName}),r.a.createElement(p,{text:"Join",handleClick:e.joinWithName}))}var g=function(){var e=Object(i.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(u.a.mark((function e(t,n){var a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},e.next=4,fetch(t,a);case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}();function k(e){var t=function(t){var n=t.target.value;if(n&&e.enteredCode.length<6)e.setEnteredCode("".concat(e.enteredCode).concat(n));else if(n&&e.enteredCode>=6);else if("back"===t.target.name){var a=e.enteredCode.slice(0,-1);e.setEnteredCode(a)}else 6===e.enteredCode.length?e.join(e.enteredCode):alert("You must enter at least 6 numbers\u2763\ufe0f\u2728")};return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:1},"1")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:2},"2")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:3},"3"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:4},"4")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:5},"5")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:6},"6"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:7},"7")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:8},"8")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:9},"9"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{onClick:t,name:"back"},r.a.createElement("span",{role:"img","aria-label":"BACK"},"\u2b05"),"BACK")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,value:0},"0")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t},r.a.createElement("span",{role:"img","aria-label":"Go!"},"\ud83c\udd97")))))))}function h(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)(null),s=Object(m.a)(o,2),d=s[0],b=s[1],E=Object(a.useState)(!1),f=Object(m.a)(E,2),g=f[0],h=f[1],O=function(){var t=Object(i.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("/join",{code:n});case 2:t.sent.ok?(e.setJoinedGame(c),h(!0)):alert("That game is not currently available \ud83d\ude2d");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(i.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("/add-player",{player:d,code:c});case 2:n=t.sent,console.log(n),n.ok?(console.log("It worked!"),e.setPlayerName(d),e.setGameCode(c),e.joinRoom(c,d)):(n.msg="used")?alert("Sorry, that name is already used. Please choose a new one\u2763\ufe0f\u2728"):alert("Sorry, the game you are trying to play no longer seems to be available. Please try again.\u2728");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",null,c),r.a.createElement(p,{text:"\u23eaBack",handleClick:e.goBack}),!g&&r.a.createElement(k,{enteredCode:c,setEnteredCode:l,join:O}),g&&r.a.createElement(v,{updateName:function(e){b(e.target.value)},joinWithName:C}))}function O(e){return r.a.createElement("button",{onClick:e.handleClick},e.text)}function C(e){var t=e.playersList.map((function(e){return r.a.createElement("li",{key:e},e)}));return r.a.createElement("div",null,r.a.createElement(p,{text:"\u23eaBack",handleClick:e.goBack}),r.a.createElement("div",null,e.gameCode),r.a.createElement("ul",null,t),r.a.createElement(O,{handleClick:e.beginHost,text:"START GAME\u2728"}))}function y(e){return r.a.createElement("div",null,r.a.createElement(O,{text:"Host game \u2728",handleClick:e.createGame}),r.a.createElement(O,{text:"Join game\u3000\ud83c\udfae",handleClick:e.join}))}var x=n(37),w=n.n(x)()("/games"),S=r.a.createContext();var z=function(){var e=Object(a.useState)(null),t=Object(m.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!0),o=Object(m.a)(l,2),E=o[0],f=o[1],p=Object(a.useState)(!1),v=Object(m.a)(p,2),k=v[0],O=v[1],x=Object(a.useState)(!1),z=Object(m.a)(x,2),B=z[0],N=z[1],G=Object(a.useState)(null),J=Object(m.a)(G,2),P=J[0],Y=J[1],A=Object(a.useState)(null),T=Object(m.a)(A,2),H=T[0],W=T[1],I=Object(a.useState)([]),R=Object(m.a)(I,2),K=(R[0],R[1]),L=Object(a.useState)([]),M=Object(m.a)(L,2),$=M[0],q=M[1],D=Object(a.useState)(!1),F=Object(m.a)(D,2),Q=F[0],U=F[1],V=Object(a.useState)(!1),X=Object(m.a)(V,2),Z=X[0],_=(X[1],Object(a.useState)([])),ee=Object(m.a)(_,2),te=ee[0],ne=ee[1];Object(a.useEffect)((function(){w.on("newPlayer",(function(e){console.log(e);for(var t=[],n=0;n<e.players.length;n++)t.push(e.players[n].name);q(t),console.log(t),K(e.players)})),w.on("buzz",(function(e){ae(e)}))}),[w]);var ae=function(e){console.log(te),ne((function(t){return[].concat(Object(s.a)(t),[e])})),console.log(te)},re=function(e){w.emit("join","/".concat(e))},ce=function(){f(!0),N(!1),O(!1),P&&(oe(P),Y(null)),n&&(oe(n),c(null))},le=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/create");case 2:(t=e.sent)?(c(t.gameNumber),f(!1),O(!1),N(!0),console.log(t.gameNumber),re(t.gameNumber)):console.log("error!");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("/create",{code:t});case 2:(n=e.sent)?console.log(n):console.log("error!");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("button",{onClick:function(){w.emit("buzz",H,n)}},"emit!"),r.a.createElement("button",{onClick:function(){oe(n)}},"End game"),r.a.createElement(S.Provider,{value:{player:H,gameCode:n}},E&&r.a.createElement(y,{goBack:ce,createGame:le,join:function(){O(!0),N(!1),f(!1)}}),B&&r.a.createElement(C,{goBack:ce,gameCode:n,playersList:$,beginHost:function(){console.log("HOSTIN"),O(!1),N(!1),f(!1),U(!0)}}),k&&r.a.createElement(h,{goBack:ce,setJoinedGame:Y,setGameCode:c,setPlayerName:W,joinRoom:re}),Q&&r.a.createElement(d,{buzzes:te,setBuzzes:ne}),Z&&r.a.createElement(b,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.ba9aee29.chunk.js.map